@TrickVault.Api_HostAddress = https://localhost:7002
@json = application/json
@Token = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI5NjI5NzE2Ny00YjJiLTRjOTAtODAxZi0zYzNjODExOWNmYjAiLCJlbWFpbCI6ImFkbWluQGxvY2FsaG9zdC5jb20iLCJqdGkiOiI3YTk4NTU2ZC00YTQzLTQzOWQtODU2ZC0zNzNiYmE4MDczODUiLCJuYW1lIjoiSGFycmlzb24sIE1hcmsiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJBZG1pbmlzdHJhdG9yIiwiZXhwIjoxNzYwMDU4NjkzLCJpc3MiOiJUcmlja1ZhdWx0QVBJIiwiYXVkIjoiVHJpY2tWYXVsdEFQSUNsaWVudCJ9.1t3p7pS3694DzHFa-8LEC8-9cZO-kVrH6E-uK0aS0f8
@id=3

########################################################
# Auth
########################################################

POST {{TrickVault.Api_HostAddress}}/api/auth/register
Content-Type: {{json}}

{
    "email": "user@localhost.com",
    "password": "P@ssword1",
    "firstName": "Mark",
    "lastName": "Harrison"
}

###

POST {{TrickVault.Api_HostAddress}}/api/auth/register
Content-Type: {{json}}

{
    "email": "admin@localhost.com",
    "password": "P@ssword1",
    "firstName": "Mark",
    "lastName": "Harrison",
    "role": "Administrator"
}

###

POST {{TrickVault.Api_HostAddress}}/api/auth/login
Content-Type: {{json}}

{
    "email": "user@localhost.com",
    "password": "P@ssword1"
}

###

POST {{TrickVault.Api_HostAddress}}/api/auth/login
Content-Type: {{json}}

{
    "email": "admin@localhost.com",
    "password": "P@ssword1"
}

########################################################
# Tricks
########################################################

GET {{TrickVault.Api_HostAddress}}/api/tricks
Authorization: Bearer {{Token}}

###

GET {{TrickVault.Api_HostAddress}}/api/tricks/{{id}}
Authorization: Bearer {{Token}}

###

POST {{TrickVault.Api_HostAddress}}/api/tricks
Content-Type: {{json}}
Authorization: Bearer {{Token}}

{
    "Title": "Linking Rings"
}                                   

###

PUT {{TrickVault.Api_HostAddress}}/api/tricks/{{id}}
Content-Type: {{json}}
Authorization: Bearer {{Token}}

{
    "Id": 3,
    "Title": "Linking Rings",
    "Effect": "Magician shows 5 disconnected rings, then manages to magically link the rings together.",
    "Method": "Use the secret of the rings to link and unlink them.",
    "Patter": "I have two completely separate rings.  But when I do this (rub the rings together), they become linked.",
    "CategoryIds": [3, 4, 5]
}

###

DELETE {{TrickVault.Api_HostAddress}}/api/tricks/{{id}}
Authorization: Bearer {{Token}}

###

########################################################
# Categories
########################################################

GET {{TrickVault.Api_HostAddress}}/api/categories
Authorization: Bearer {{Token}}

###

GET {{TrickVault.Api_HostAddress}}/api/categories/{{id}}
Authorization: Bearer {{Token}}

###

POST {{TrickVault.Api_HostAddress}}/api/categories
Content-Type: {{json}}
Authorization: Bearer {{Token}}

{
  "Name": "Self-working card tricks"
}

###

PUT {{TrickVault.Api_HostAddress}}/api/categories/{{id}}
Content-Type: {{json}}
Authorization: Bearer {{Token}}

{
  "Id": 10,
  "Name": "Money Magic"
}

###

DELETE {{TrickVault.Api_HostAddress}}/api/categories/{{id}}
Authorization: Bearer {{Token}}

###
